### 提取的要点

#### 1. **登录状态保持的背景**
   - **起源**：由于 HTTP 无状态设计，无法记住用户的请求，最早的 Web 只用于简单的网页浏览，不需要登录等操作。
   - **问题**：随着交互型网站的增加，登录、注册等需求开始出现，需要实现登录状态保持。

#### 2. **使用 Cookie + Session 进行登录状态保持**
   - **原理**：
     - 服务端在用户登录时分配一个 `session`，并将 `sessionID` 返回给浏览器。
     - 浏览器通过 Cookie 存储 `sessionID`，每次请求时携带该 ID，服务端通过 ID 判断用户是否登录。
   - **缺点**：
     1. 每个用户登录需要在服务器端保存 `session`，导致大量内存占用。
     2. 某些移动端浏览器不支持或禁用了 Cookie。
     3. 在集群环境下，Session 管理复杂。
   
#### 3. **集群与 Session 持久化**
   - **问题**：在多台服务器中共享 Session 复杂且占用更多内存。
   - **解决方案**：
     - 使用 Redis 或 Memcached 进行 `session` 持久化，将所有 `session` 存储在数据库中，避免每台服务器保存用户信息。

#### 4. **使用 Token 进行登录状态保持**
   - **原理**：
     - 当用户登录时，服务器生成一个 `token`（令牌）并返回给用户。服务器不保存该 `token`，用户在后续请求时携带 `token`，服务器通过解密验证用户身份。
   - **优势**：
     1. **无状态**：服务器无需存储 Token，仅负责签发和校验。
     2. **集群支持**：Token 无状态，集群环境下只要服务器算法一致，验证方式相同。
     3. **性能**：解析 Token 的效率比查询数据库快。
     4. **跨站点支持**：Token 可实现跨站点登录，只要服务器验证算法一致。
     5. **移动端友好**：相比 Cookie，Token 更适合移动端开发。

#### 5. **Token 的使用**
   - **存储**：客户端收到服务器返回的 JWT（JSON Web Token）后，可以存储在 Cookie 或 `localStorage` 中。
   - **请求方式**：每次与服务器通信时，客户端应将 Token 放在 HTTP 请求的头信息的 `Authorization` 字段中，避免使用 Cookie 发送 Token，以防跨域问题。

### 总结
- **Cookie + Session** 方式适用于传统 Web 应用，但存在服务器资源占用和集群环境的复杂性问题。
- **Token**（尤其是 JWT）是现代 Web 开发中更灵活、性能更高的状态保持方式，尤其适合分布式架构和移动端开发。