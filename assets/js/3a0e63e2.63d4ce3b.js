"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[8402],{9290:(e,s,d)=>{d.r(s),d.d(s,{assets:()=>i,contentTitle:()=>t,default:()=>u,frontMatter:()=>c,metadata:()=>a,toc:()=>l});var n=d(4848),r=d(8453);const c={},t=void 0,a={id:"\u96c6\u7fa4/1.2k8s\u7cfb\u7edf\u5b89\u88c5\u9762\u677f",title:"1.2k8s\u7cfb\u7edf\u5b89\u88c5\u9762\u677f",description:"\u5220\u9664\u65e7\u7248\u672c",source:"@site/ail_basis/3-\u96c6\u7fa4/1.2k8s\u7cfb\u7edf\u5b89\u88c5\u9762\u677f.md",sourceDirName:"3-\u96c6\u7fa4",slug:"/\u96c6\u7fa4/1.2k8s\u7cfb\u7edf\u5b89\u88c5\u9762\u677f",permalink:"/node_docs_docusaurus_temp/ailbasis/\u96c6\u7fa4/1.2k8s\u7cfb\u7edf\u5b89\u88c5\u9762\u677f",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/ail_basis/3-\u96c6\u7fa4/1.2k8s\u7cfb\u7edf\u5b89\u88c5\u9762\u677f.md",tags:[],version:"current",lastUpdatedBy:"\u201cAiluntz\u201d",lastUpdatedAt:1727340015e3,frontMatter:{},sidebar:"ailbasis",previous:{title:"1.2k8s\u7cfb\u7edf\u5b89\u88c5\u9644\u5f55",permalink:"/node_docs_docusaurus_temp/ailbasis/\u96c6\u7fa4/1.2k8s\u7cfb\u7edf\u5b89\u88c5\u9644\u5f55"},next:{title:"1.1\u670d\u52a1\u5668ssh\u8fde\u63a5\u4fe1\u606f",permalink:"/node_docs_docusaurus_temp/ailbasis/\u8fd0\u7ef4/1.1\u670d\u52a1\u5668ssh\u8fde\u63a5\u4fe1\u606f"}},i={},l=[{value:"\u5220\u9664\u65e7\u7248\u672c",id:"\u5220\u9664\u65e7\u7248\u672c",level:3},{value:"\u7f16\u8f91dashboard yaml\u6587\u4ef6",id:"\u7f16\u8f91dashboard-yaml\u6587\u4ef6",level:3}];function o(e){const s={code:"code",h3:"h3",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.h3,{id:"\u5220\u9664\u65e7\u7248\u672c",children:"\u5220\u9664\u65e7\u7248\u672c"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{children:'kubectl delete service kubernetes-dashboard --namespace=kubernetes-dashboard\nservice "kubernetes-dashboard" deleted\n'})}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{children:'kubectl delete deployment kubernetes-dashboard -n kubernetes-dashboard\ndeployment.apps "kubernetes-dashboard" deleted\n'})}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{children:'kubectl delete namespace kubernetes-dashboard\nnamespace "kubernetes-dashboard" deleted\n'})}),"\n",(0,n.jsx)(s.p,{children:"\u4e0b\u8f7ddashboard yaml\u6587\u4ef6"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{children:"wget https://raw.githubusercontent.com/kubernetes/dashboard/v2.4.0/aio/deploy/recommended.yaml\n"})}),"\n",(0,n.jsx)(s.h3,{id:"\u7f16\u8f91dashboard-yaml\u6587\u4ef6",children:"\u7f16\u8f91dashboard yaml\u6587\u4ef6"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{children:"vim recommended.yaml\ntype: NodePort #\u96c6\u7fa4\u5916\u7684\u673a\u5668\u53ef\u4ee5\u901a\u8fc7\u6d4f\u89c8\u5668\u8bbf\u95ee\nnodePort: 30001 #\u96c6\u7fa4\u5916\u7684\u673a\u5668\u901a\u8fc7 node\u8282\u70b9IP + \u66b4\u9732\u7aef\u53e3\u53f7\n"})}),"\n",(0,n.jsx)(s.p,{children:"\u5b89\u88c5dashboard"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{children:"kubectl apply -f recommended.yaml\n"})}),"\n",(0,n.jsx)(s.p,{children:"\u9a8c\u8bc1dashboard\u662f\u5426\u542f\u52a8\u6210\u529f"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{children:"kubectl get pods --all-namespaces\n"})}),"\n",(0,n.jsx)(s.p,{children:"\u521b\u5efaserviceAccount\uff0c\u7528\u6237\u540d\u4e3adashboard-admin"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{children:"kubectl create serviceaccount dashboard-admin -n kube-system\n"})}),"\n",(0,n.jsx)(s.p,{children:"\u901a\u8fc7clusterrolebinding\u7ed1\u5b9a\u5230\u5185\u7f6e\u7684cluster-admin\u89d2\u8272\u4e0a\n*dashboard-admin \u62e5\u6709k8s api-server\u6240\u6709\u6743\u9650"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{children:"kubectl create clusterrolebinding dashboard-admin --clusterrole=cluster-admin --serviceaccount=kube-system:dashboard-admin\n"})}),"\n",(0,n.jsx)(s.p,{children:"\u67e5\u770bdashboard-admin\u7528\u6237\u7684securet\uff1a"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{children:"kubectl get secret -n kube-system\nkubectl describe secret dashboard-admin-token-v5zgp  -n kube-system\n"})}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{children:"eyJhbGciOiJSUzI1NiIsImtpZCI6IkptcG1GNThIVE82S2lGaVZrWWh5THJqVnhHa3lPSXA0OXd5T2treHI2S0EifQ.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJrdWJlLXN5c3RlbSIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VjcmV0Lm5hbWUiOiJkYXNoYm9hcmQtYWRtaW4tdG9rZW4tdjV6Z3AiLCJrdWJlcm5ldGVzLmlvL3NlcnZpY2VhY2NvdW50L3NlcnZpY2UtYWNjb3VudC5uYW1lIjoiZGFzaGJvYXJkLWFkbWluIiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9zZXJ2aWNlLWFjY291bnQudWlkIjoiNzcxYTEyMmEtNDljMy00MTNmLWE1YjAtYzlhMWY0MzFjYzg5Iiwic3ViIjoic3lzdGVtOnNlcnZpY2VhY2NvdW50Omt1YmUtc3lzdGVtOmRhc2hib2FyZC1hZG1pbiJ9.L7YAnG8LPJ__i2AxLYSsG_tifxfeuKsx_sYmkOsq0GEgyD6tWA01t19TtoOTbW_PjuiY89FqHQNXXLJUpjF4kFOVdiPRFHDr7Tc6e3QE_-Dwx_7UZpLmLlV6H2Tb51n18Yhidw1QNtsMXPRjjzxAzhYPP1wKoi39xzkQG6YS6r5_w88QhsEOlRZ3X_c_Fdwh8zCbelwnYv7lD9OdSJzHj6M7_25CtWbpV5Mi71VyPGYhADhUGlUFyvwEQ2aBqDSrMlfIkd6B8wiqsiKFHfzR2G7qHiXyWXElqMYa4su0XzL5t0P3oFRIu4ks1CKGNsuyVf7v5aUwmWrzarRaVSkb0A\n"})}),"\n",(0,n.jsx)(s.p,{children:"\u767b\u5f55UI\u67e5\u770b\u6548\u679c//v2.4\u7248\u672c\u53ea\u80fd\u706b\u72d0\u767b\u9646"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{children:"https://10.211.55.15:30001 #\u8f93\u5165token\n"})}),"\n",(0,n.jsx)(s.p,{children:"\u5931\u8d25\u7684\u65f6\u5019\u624b\u52a8\u62c9\u53d6image\u5fc5\u987b\u914d\u5907\u6b63\u786e\u7684\u955c\u50cf\u6e90"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{children:"docker pull docker.io/kubernetesui/dashboard:v2.7.0\ndocker tag docker.io/kubernetesui/dashboard:v2.7.0 10.211.55.15/baseimages/dashboard:v2.7.0\ndocker pull docker.io/kubernetesui/metrics-scraper:v1.0.8\ndocker tag docker.io/kubernetesui/metrics-scraper:v1.0.8 10.211.55.15/baseimages/metrics-scraper:v1.0.8\ndocker push 10.211.55.15/baseimages/metrics-scraper:v1.0.8\ndocker push 10.211.55.15/baseimages/dashboard:v2.7.0\n"})})]})}function u(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(o,{...e})}):o(e)}},8453:(e,s,d)=>{d.d(s,{R:()=>t,x:()=>a});var n=d(6540);const r={},c=n.createContext(r);function t(e){const s=n.useContext(c);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),n.createElement(c.Provider,{value:s},e.children)}}}]);