"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[4105],{9105:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>i,contentTitle:()=>d,default:()=>a,frontMatter:()=>t,metadata:()=>s,toc:()=>l});var c=n(4848),o=n(8453);const t={},d=void 0,s={id:"\u5f00\u53d1\u73af\u5883/1.2\u5b89\u88c5docker",title:"1.2\u5b89\u88c5docker",description:"docker\u547d\u4ee4",source:"@site/ail_basis/6-\u5f00\u53d1\u73af\u5883/1.2\u5b89\u88c5docker.md",sourceDirName:"6-\u5f00\u53d1\u73af\u5883",slug:"/\u5f00\u53d1\u73af\u5883/1.2\u5b89\u88c5docker",permalink:"/node_docs_docusaurus_temp/ailbasis/\u5f00\u53d1\u73af\u5883/1.2\u5b89\u88c5docker",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/ail_basis/6-\u5f00\u53d1\u73af\u5883/1.2\u5b89\u88c5docker.md",tags:[],version:"current",lastUpdatedBy:"\u201cAiluntz\u201d",lastUpdatedAt:1727340015e3,frontMatter:{},sidebar:"ailbasis",previous:{title:"1.2docker\u663e\u5361gpu\u5bb9\u5668",permalink:"/node_docs_docusaurus_temp/ailbasis/\u5f00\u53d1\u73af\u5883/1.2docker\u663e\u5361gpu\u5bb9\u5668"}},i={},l=[{value:"docker\u547d\u4ee4",id:"docker\u547d\u4ee4",level:3},{value:"ubuntu\u5b89\u88c5docker",id:"ubuntu\u5b89\u88c5docker",level:3},{value:"\u4fee\u6539docker\u6e90",id:"\u4fee\u6539docker\u6e90",level:3},{value:"\u8bbe\u7f6e\u4ee3\u7406",id:"\u8bbe\u7f6e\u4ee3\u7406",level:3},{value:"\u8fde\u63a5\u8fdc\u65b9docker\u5b88\u62a4\u8fdb\u7a0b",id:"\u8fde\u63a5\u8fdc\u65b9docker\u5b88\u62a4\u8fdb\u7a0b",level:3},{value:"centos\u5b89\u88c5docker",id:"centos\u5b89\u88c5docker",level:3}];function u(e){const r={code:"code",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(r.h3,{id:"docker\u547d\u4ee4",children:"docker\u547d\u4ee4"}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{children:"docker pull --help\ndocker pull \u955c\u50cf\u540d\u5b57:[\u7248\u672c]\ndocker ps \u67e5\u770b\u5bb9\u5668\u5217\u8868\uff0c-a\u663e\u793a\u6240\u6709\u5bb9\u5668\ndocker images\uff1a\u67e5\u770b\u672c\u5730\u955c\u50cf\u5217\u8868\ndocker search [\u955c\u50cf\u540d\u5b57]:[\u7248\u672c]  \u955c\u50cf\u641c\u7d22\ndocker build\uff1a\u6839\u636eDockerfile\u6587\u4ef6\u521b\u5efa\u955c\u50cf\ndocker rmi \u5220\u9664\u955c\u50cf\ndocker load\uff1a\u5bfc\u5165\u955c\u50cf\ndocker save\uff1a\u5bfc\u51fa\u955c\u50cf\ndocker run -d \u955c\u50cf\u540d\u5b57 \u5b88\u62a4\u6001\u8fd0\u884c\ndocker create -it \u955c\u50cf\u540d\u5b57\u521b\u5efa\u5bb9\u5668\uff08create\uff09\ndocker run \u6839\u636e\u955c\u50cf\u521b\u5efa\u5bb9\u5668\n"})}),"\n",(0,c.jsx)(r.h3,{id:"ubuntu\u5b89\u88c5docker",children:"ubuntu\u5b89\u88c5docker"}),"\n",(0,c.jsx)(r.p,{children:"\u66f4\u65b0\u7cfb\u7edf\u5305"}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{children:"sudo apt update \nsudo apt install apt-transport-https ca-certificates curl software-properties-common\n"})}),"\n",(0,c.jsx)(r.p,{children:"\u6dfb\u52a0 Docker \u7684\u5b98\u65b9 GPG \u5bc6\u94a5"}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{children:"curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg\n"})}),"\n",(0,c.jsx)(r.p,{children:"\u6dfb\u52a0 Docker \u4ed3\u5e93"}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{children:'echo "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null\n'})}),"\n",(0,c.jsx)(r.p,{children:"\u5b89\u88c5 Docker"}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{children:"sudo apt update\nsudo apt install docker-ce\n"})}),"\n",(0,c.jsx)(r.h3,{id:"\u4fee\u6539docker\u6e90",children:"\u4fee\u6539docker\u6e90"}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{children:'sudo mkdir -p /etc/docker\nsudo vi /etc/docker/daemon.json\n{\n"registry-mirrors": [\n "https://docker.910007.xyz",\n "https://registry.cn-hangzhou.aliyuncs.com",\n "https://mirror.ccs.tencentyun.com",\n "https://dockerhub.icu"\n    ]\n}\nsudo systemctl start docker #\u542f\u52a8\u5e76\u914d\u7f6e Docker\nsudo systemctl enable docker #\u542f\u52a8\u5e76\u914d\u7f6e Docker\n'})}),"\n",(0,c.jsx)(r.h3,{id:"\u8bbe\u7f6e\u4ee3\u7406",children:"\u8bbe\u7f6e\u4ee3\u7406"}),"\n",(0,c.jsxs)(r.ul,{children:["\n",(0,c.jsx)(r.li,{children:"Docker\u5bb9\u5668\u5185\u90e8\u8bbe\u7f6e\u4ee3\u7406 \u8fdb\u5165\u5bb9\u5668"}),"\n"]}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{children:'export http_proxy="http://192.168.8.98:1081"\nexport https_proxy="http://192.168.8.98:1081"\ncurl -L "http://ip.cn/api/index?type=0"  #\u6d4b\u8bd5\n'})}),"\n",(0,c.jsxs)(r.ul,{children:["\n",(0,c.jsx)(r.li,{children:"\u5728Dockerfile\u4e2d\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf"}),"\n"]}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{children:'ENV HTTP_PROXY "http://127.0.0.1:3001"\nENV HTTP_PROXY "http://127.0.0.1:3001"\nENV FTP_PROXY "ftp://127.0.0.1:3001"\nENV NO_PROXY "*.test.example.com,.example2.com"\n'})}),"\n",(0,c.jsxs)(r.ul,{children:["\n",(0,c.jsx)(r.li,{children:"\u5728\u8fd0\u884c\u5bb9\u5668\u65f6\u4f7f\u7528-e\u53c2\u6570\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf"}),"\n"]}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{children:'--env HTTP_PROXY="http://127.0.0.1:3001"\n--env HTTPS_PROXY="https://127.0.0.1:3001"\n--env FTP_PROXY="ftp://127.0.0.1:3001"\n--env NO_PROXY="*.test.example.com,.example2.com"\n'})}),"\n",(0,c.jsx)(r.h3,{id:"\u8fde\u63a5\u8fdc\u65b9docker\u5b88\u62a4\u8fdb\u7a0b",children:"\u8fde\u63a5\u8fdc\u65b9docker\u5b88\u62a4\u8fdb\u7a0b"}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{children:"export DOCKER_HOST=tcp://192.168.8.98:2375 #\u8fdc\u65b9\u6267\u884c\n"})}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{children:"vi /usr/lib/systemd/system/docker.service #\u5f00\u53d1\u673a\u6267\u884c\n[Service]\nExecStart=/usr/bin/dockerd -H tcp://0.0.0.0:2375 -H unix://var/run/docker.sock  #\u627e\u5230ExecStart\u884c\nsystemctl daemon-reload  #\u91cd\u65b0\u542f\u52a8\nsystemctl restart docker\nps -ef|grep docker   #\u67e5\u770b\u6548\u679c\n"})}),"\n",(0,c.jsx)(r.h3,{id:"centos\u5b89\u88c5docker",children:"centos\u5b89\u88c5docker"}),"\n",(0,c.jsx)(r.pre,{children:(0,c.jsx)(r.code,{children:"\u4e0b\u8f7d\u963f\u91cc\u4e91\u7684 CentOS-Base.repo \u6587\u4ef6\nsudo curl -o /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo\n1\u3001\u5b89\u88c5\u4f9d\u8d56\nyum install -y yum-utils device-mapper-persistent-data lvm2\n2\u3001\u6dfb\u52a0docker yum \u6e90\nyum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo\n3\u3001\u67e5\u770byum \u53ef\u5b89\u88c5\u7684 docker\nyum list docker-ce --showduplicates | sort -r \n4\u3001\u66f4\u65b0yum \u6e90\nyum makecache\n\u81ea\u52a8\u751f\u6210\u516c\u94a5\nyum list\n5\u3001\u5b89\u88c5docker(docker 20.10.x \u642d\u914d k8s 1.21.x)\nCentos7\nyum install docker-ce-20.10.15-3.el7 docker-ce-cli-20.10.15-3.el7 containerd.io\nyum install -y docker-ce-3:20.10.15-3.el7 docker-ce-cli-1:20.10.15-3.el7 containerd.io\nCentos9\nyum install -y docker-ce-3:20.10.15-3.el9 docker-ce-cli-1:20.10.15-3.el9 containerd.io\n6\u3001\u542f\u52a8docker \u5e76\u914d\u7f6e\u5f00\u673a\u542f\u52a8\nsystemctl enable docker && systemctl start docker\n"})})]})}function a(e={}){const{wrapper:r}={...(0,o.R)(),...e.components};return r?(0,c.jsx)(r,{...e,children:(0,c.jsx)(u,{...e})}):u(e)}},8453:(e,r,n)=>{n.d(r,{R:()=>d,x:()=>s});var c=n(6540);const o={},t=c.createContext(o);function d(e){const r=c.useContext(t);return c.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function s(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:d(e.components),c.createElement(t.Provider,{value:r},e.children)}}}]);